<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monkey Number - –ü–æ–∫—É–ø–∫–∞ Telegram –∞–∫–∫–∞—É–Ω—Ç–æ–≤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .logo span {
            color: #764ba2;
        }

        .tagline {
            color: #666;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .stat-item {
            background: #f8f9fa;
            padding: 15px 25px;
            border-radius: 10px;
            text-align: center;
            min-width: 150px;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        main {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            main {
                grid-template-columns: 1fr;
            }
        }

        .section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        /* –°—Ç—Ä–∞–Ω—ã */
        .countries-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .country-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .country-card:hover {
            transform: translateY(-5px);
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .country-flag {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .country-name {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .country-price {
            font-size: 1.3rem;
            color: #667eea;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .country-price-ton {
            font-size: 0.9rem;
            color: #666;
        }

        /* –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã */
        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .payment-method {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .payment-method:hover {
            background: #667eea;
            color: white;
        }

        .payment-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        /* –ö–æ—Ä–∑–∏–Ω–∞ */
        .cart {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }

        .cart-total {
            text-align: right;
            font-size: 1.3rem;
            font-weight: bold;
            margin-top: 20px;
            color: #667eea;
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            margin-top: 20px;
        }

        .btn:hover {
            background: #764ba2;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 1001;
            display: none;
            max-width: 300px;
        }

        .notification.success {
            border-left: 5px solid #28a745;
        }

        .notification.error {
            border-left: 5px solid #dc3545;
        }

        .notification.warning {
            border-left: 5px solid #ffc107;
        }

        /* –§—É—Ç–µ—Ä */
        footer {
            text-align: center;
            color: white;
            padding: 20px;
            margin-top: 30px;
        }

        .support-link {
            color: white;
            text-decoration: none;
            background: rgba(255,255,255,0.1);
            padding: 10px 20px;
            border-radius: 10px;
            display: inline-block;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .support-link:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .countries-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .payment-methods {
                grid-template-columns: 1fr 1fr;
            }
            
            .stats {
                gap: 10px;
            }
            
            .stat-item {
                min-width: 120px;
                padding: 10px 15px;
            }
        }

        /* –ó–∞–≥—Ä—É–∑–∫–∞ */
        .loader {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">Monkey<span>Number</span></div>
            <div class="tagline">Telegram –∞–∫–∫–∞—É–Ω—Ç—ã –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω. –ë—ã—Å—Ç—Ä–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ, –∞–Ω–æ–Ω–∏–º–Ω–æ</div>
            
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-value">1 TON</div>
                    <div class="stat-label">= 120 ‚ÇΩ</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="totalUsers">0</div>
                    <div class="stat-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="totalPurchases">0</div>
                    <div class="stat-label">–ü–æ–∫—É–ø–æ–∫</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="totalRevenue">0</div>
                    <div class="stat-label">–í—ã—Ä—É—á–∫–∞</div>
                </div>
            </div>
        </header>

        <main>
            <div class="section">
                <h2 class="section-title">üåç –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É</h2>
                <div class="countries-grid" id="countriesGrid">
                    <!-- –°—Ç—Ä–∞–Ω—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">üí≥ –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã</h2>
                <p style="margin-bottom: 20px; color: #666;">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∞–Ω—ã</p>
                
                <div class="payment-methods" id="paymentMethods">
                    <div class="payment-method" data-method="balance">
                        <div class="payment-icon">üí∞</div>
                        <div>–ë–∞–ª–∞–Ω—Å</div>
                    </div>
                    <div class="payment-method" data-method="crypto">
                        <div class="payment-icon">‚Çø</div>
                        <div>Crypto Bot</div>
                    </div>
                    <div class="payment-method" data-method="lolz">
                        <div class="payment-icon">üõí</div>
                        <div>Lolz Merchant</div>
                    </div>
                </div>

                <div id="currencySelection" style="display: none; margin-top: 20px;">
                    <h3 style="margin-bottom: 15px;">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞–ª—é—Ç—É:</h3>
                    <div style="display: grid; gap: 10px;">
                        <button class="btn" data-currency="usdt">USDT</button>
                        <button class="btn" data-currency="ton">TON</button>
                    </div>
                </div>
            </div>
        </main>

        <div class="cart" id="cartSection" style="display: none;">
            <h2 class="section-title">üõí –í–∞—à –∑–∞–∫–∞–∑</h2>
            <div id="cartItems">
                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
            <div class="cart-total" id="cartTotal"></div>
            <button class="btn" id="checkoutBtn">–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ</button>
        </div>

        <div class="section">
            <h2 class="section-title">üì± –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <div style="font-size: 2rem; margin-bottom: 10px;">1</div>
                    <h3 style="margin-bottom: 10px;">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É</h3>
                    <p style="color: #666;">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É –¥–ª—è Telegram –∞–∫–∫–∞—É–Ω—Ç–∞</p>
                </div>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <div style="font-size: 2rem; margin-bottom: 10px;">2</div>
                    <h3 style="margin-bottom: 10px;">–û–ø–ª–∞—Ç–∏—Ç–µ</h3>
                    <p style="color: #666;">–í—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</p>
                </div>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <div style="font-size: 2rem; margin-bottom: 10px;">3</div>
                    <h3 style="margin-bottom: 10px;">–ü–æ–ª—É—á–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ</h3>
                    <p style="color: #666;">–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –ø–æ–ª—É—á–∏—Ç–µ –Ω–æ–º–µ—Ä –∏ SMS-–∫–æ–¥</p>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤–≤–æ–¥–∞ –ø—Ä–æ–º–æ–∫–æ–¥–∞ -->
    <div class="modal" id="promoModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('promoModal')">√ó</span>
            <h2 style="margin-bottom: 20px;">üé´ –í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥</h2>
            <input type="text" id="promoCodeInput" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: SUMMER2024" 
                   style="width: 100%; padding: 15px; border: 2px solid #eee; border-radius: 10px; font-size: 1rem; margin-bottom: 15px;">
            <button class="btn" onclick="applyPromoCode()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            <div id="promoMessage" style="margin-top: 15px;"></div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–ø–ª–∞—Ç—ã -->
    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('paymentModal')">√ó</span>
            <div id="paymentContent">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –æ–ø–ª–∞—Ç—ã –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã -->
    <div class="modal" id="successModal">
        <div class="modal-content">
            <div style="text-align: center;">
                <div style="font-size: 4rem; color: #28a745; margin-bottom: 20px;">‚úÖ</div>
                <h2 style="margin-bottom: 15px;">–û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!</h2>
                <p style="margin-bottom: 20px; color: #666;" id="successMessage"></p>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <p><strong>–í–∞–∂–Ω–æ:</strong> –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è SMS-–∫–æ–¥–∞:</p>
                    <p style="margin-top: 10px;">
                        <a href="https://MonkeyNumberSupport.t.me" target="_blank" 
                           style="color: #667eea; text-decoration: none; font-weight: bold;">
                            üëâ MonkeyNumberSupport.t.me
                        </a>
                    </p>
                </div>
                <button class="btn" onclick="closeModal('successModal')">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div class="notification" id="notification"></div>

    <!-- –ó–∞–≥—Ä—É–∑—á–∏–∫ -->
    <div class="loader" id="loader">
        <div class="spinner"></div>
        <div id="loaderText">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>

    <footer>
        <p>¬© 2024 Monkey Number. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        <p>–ì–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç–∏. –ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã.</p>
        <a href="https://MonkeyNumberSupport.t.me" class="support-link" target="_blank">
            üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞: MonkeyNumberSupport.t.me
        </a>
    </footer>

    <script>
        // –î–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏
        const COUNTRIES = [
            { code: "US", name: "–°–®–ê", price: 35, currency: "‚ÇΩ", emoji: "üá∫üá∏" },
            { code: "RU", name: "–†–æ—Å—Å–∏—è", price: 250, currency: "‚ÇΩ", emoji: "üá∑üá∫" },
            { code: "UA", name: "–£–∫—Ä–∞–∏–Ω–∞", price: 199, currency: "‚ÇΩ", emoji: "üá∫üá¶" },
            { code: "KZ", name: "–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω", price: 199, currency: "‚ÇΩ", emoji: "üá∞üáø" },
            { code: "IN", name: "–ò–Ω–¥–∏—è", price: 35, currency: "‚ÇΩ", emoji: "üáÆüá≥" },
            { code: "MM", name: "–ú—å—è–Ω–º–∞", price: 35, currency: "‚ÇΩ", emoji: "üá≤üá≤" }
        ];

        const TON_RATE = 120; // 1 TON = 120 ‚ÇΩ
        const SUPPORT_URL = "https://MonkeyNumberSupport.t.me";

        // –•—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö
        let userProfile = {
            balance: 0,
            purchases: [],
            usedPromocodes: []
        };

        let selectedCountry = null;
        let selectedPaymentMethod = null;
        let selectedCurrency = null;
        let activePromocode = null;
        let cart = [];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            initCountries();
            initPaymentMethods();
            updateStats();
            loadUserProfile();
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ —Å—Ç—Ä–∞–Ω
        function initCountries() {
            const grid = document.getElementById('countriesGrid');
            grid.innerHTML = '';
            
            COUNTRIES.forEach(country => {
                const priceTON = convertRubToTon(country.price);
                
                const countryCard = document.createElement('div');
                countryCard.className = 'country-card';
                countryCard.innerHTML = `
                    <div class="country-flag">${country.emoji}</div>
                    <div class="country-name">${country.name}</div>
                    <div class="country-price">${country.price} ${country.currency}</div>
                    <div class="country-price-ton">(~${priceTON} TON)</div>
                `;
                
                countryCard.addEventListener('click', () => selectCountry(country));
                grid.appendChild(countryCard);
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã
        function initPaymentMethods() {
            document.querySelectorAll('.payment-method').forEach(method => {
                method.addEventListener('click', function() {
                    if (!selectedCountry) {
                        showNotification('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É', 'warning');
                        return;
                    }
                    
                    selectedPaymentMethod = this.dataset.method;
                    
                    // –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω –±–∞–ª–∞–Ω—Å –∏ –µ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
                    if (selectedPaymentMethod === 'balance') {
                        if (userProfile.balance >= selectedCountry.price) {
                            addToCart();
                        } else {
                            showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ', 'error');
                        }
                    } 
                    // –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω Crypto Bot
                    else if (selectedPaymentMethod === 'crypto') {
                        document.getElementById('currencySelection').style.display = 'block';
                        document.querySelectorAll('[data-currency]').forEach(btn => {
                            btn.addEventListener('click', function() {
                                selectedCurrency = this.dataset.currency;
                                addToCart();
                                document.getElementById('currencySelection').style.display = 'none';
                            });
                        });
                    }
                    // –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω Lolz Merchant
                    else if (selectedPaymentMethod === 'lolz') {
                        selectedCurrency = 'rub';
                        addToCart();
                    }
                });
            });
        }

        // –í—ã–±–æ—Ä —Å—Ç—Ä–∞–Ω—ã
        function selectCountry(country) {
            selectedCountry = country;
            showNotification(`–í—ã–±—Ä–∞–Ω–∞ —Å—Ç—Ä–∞–Ω–∞: ${country.name}`, 'success');
            
            // –°–±—Ä–æ—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
            selectedPaymentMethod = null;
            selectedCurrency = null;
            document.getElementById('currencySelection').style.display = 'none';
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
        function addToCart() {
            if (!selectedCountry || !selectedPaymentMethod) {
                showNotification('–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É –∏ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã', 'warning');
                return;
            }

            const item = {
                country: selectedCountry,
                paymentMethod: selectedPaymentMethod,
                currency: selectedCurrency,
                promocode: activePromocode
            };

            cart = [item]; // –í –∫–æ—Ä–∑–∏–Ω–µ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ç–æ–≤–∞—Ä
            updateCart();
            document.getElementById('cartSection').style.display = 'block';
            
            showNotification('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É', 'success');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
        function updateCart() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>';
                cartTotal.innerHTML = '';
                document.getElementById('cartSection').style.display = 'none';
                return;
            }

            const item = cart[0];
            let finalPrice = item.country.price;
            let discountText = '';
            
            // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞ –µ—Å–ª–∏ –µ—Å—Ç—å
            if (activePromocode) {
                const discount = activePromocode.type === 'discount' ? 
                    (finalPrice * activePromocode.value) / 100 : 0;
                finalPrice -= discount;
                discountText = `<br><small style="color: #28a745;">–ü—Ä–æ–º–æ–∫–æ–¥: ${activePromocode.code} (-${discount}‚ÇΩ)</small>`;
            }

            cartItems.innerHTML = `
                <div class="cart-item">
                    <div>
                        <strong>${item.country.emoji} ${item.country.name}</strong>
                        <div>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: ${getPaymentMethodName(item.paymentMethod)}</div>
                        ${item.currency ? `<div>–í–∞–ª—é—Ç–∞: ${item.currency.toUpperCase()}</div>` : ''}
                        ${discountText}
                    </div>
                    <div style="font-weight: bold; color: #667eea;">
                        ${finalPrice} ‚ÇΩ
                    </div>
                </div>
            `;

            cartTotal.innerHTML = `–ò—Ç–æ–≥–æ: ${finalPrice} ‚ÇΩ`;
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
        function getPaymentMethodName(method) {
            const names = {
                'balance': '–ë–∞–ª–∞–Ω—Å',
                'crypto': 'Crypto Bot',
                'lolz': 'Lolz Merchant'
            };
            return names[method] || method;
        }

        // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ä—É–±–ª–µ–π –≤ TON
        function convertRubToTon(amountRub) {
            return (amountRub / TON_RATE).toFixed(4);
        }

        // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è TON –≤ —Ä—É–±–ª–∏
        function convertTonToRub(amountTon) {
            return (amountTon * TON_RATE).toFixed(2);
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞
        function applyPromoCode() {
            const codeInput = document.getElementById('promoCodeInput');
            const code = codeInput.value.trim().toUpperCase();
            const messageDiv = document.getElementById('promoMessage');
            
            if (!code) {
                messageDiv.innerHTML = '<p style="color: #dc3545;">–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥</p>';
                return;
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–º–æ–∫–æ–¥–∞ (–∑–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É)
            const validPromocodes = {
                'SUMMER2024': { type: 'discount', value: 10, maxUses: 100 },
                'MONKEY50': { type: 'balance', value: 50, maxUses: 50 }
            };

            if (validPromocodes[code]) {
                const promo = validPromocodes[code];
                activePromocode = {
                    code: code,
                    type: promo.type,
                    value: promo.value
                };
                
                messageDiv.innerHTML = `<p style="color: #28a745;">‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥ "${code}" –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!</p>`;
                updateCart();
            } else {
                messageDiv.innerHTML = '<p style="color: #dc3545;">‚ùå –ü—Ä–æ–º–æ–∫–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω</p>';
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–ø–ª–∞—Ç—ã
        document.getElementById('checkoutBtn').addEventListener('click', function() {
            if (cart.length === 0) {
                showNotification('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞', 'error');
                return;
            }

            const item = cart[0];
            showPaymentModal(item);
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–ø–ª–∞—Ç—ã
        function showPaymentModal(item) {
            const modal = document.getElementById('paymentModal');
            const content = document.getElementById('paymentContent');
            
            let finalPrice = item.country.price;
            let discount = 0;
            
            if (activePromocode && activePromocode.type === 'discount') {
                discount = (finalPrice * activePromocode.value) / 100;
                finalPrice -= discount;
            }

            if (item.paymentMethod === 'balance') {
                content.innerHTML = `
                    <h2 style="margin-bottom: 20px;">üí∞ –û–ø–ª–∞—Ç–∞ –±–∞–ª–∞–Ω—Å–æ–º</h2>
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <p><strong>–°—Ç—Ä–∞–Ω–∞:</strong> ${item.country.emoji} ${item.country.name}</p>
                        <p><strong>–¶–µ–Ω–∞:</strong> ${item.country.price} ‚ÇΩ</p>
                        ${discount > 0 ? `<p><strong>–°–∫–∏–¥–∫–∞:</strong> ${discount} ‚ÇΩ (–ø—Ä–æ–º–æ–∫–æ–¥: ${activePromocode.code})</p>` : ''}
                        <p><strong>–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ:</strong> ${finalPrice} ‚ÇΩ</p>
                        <p><strong>–í–∞—à –±–∞–ª–∞–Ω—Å:</strong> ${userProfile.balance} ‚ÇΩ</p>
                        <p><strong>–ë–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã:</strong> ${userProfile.balance - finalPrice} ‚ÇΩ</p>
                    </div>
                    <button class="btn" onclick="processBalancePayment()">–û–ø–ª–∞—Ç–∏—Ç—å ${finalPrice} ‚ÇΩ</button>
                `;
            } else if (item.paymentMethod === 'crypto') {
                const amountCrypto = item.currency === 'ton' ? 
                    convertRubToTon(finalPrice) : 
                    (finalPrice / 70).toFixed(4); // –ü—Ä–∏–º–µ—Ä–Ω—ã–π –∫—É—Ä—Å USDT
                    
                content.innerHTML = `
                    <h2 style="margin-bottom: 20px;">‚Çø –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Crypto Bot</h2>
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <p><strong>–°—Ç—Ä–∞–Ω–∞:</strong> ${item.country.emoji} ${item.country.name}</p>
                        <p><strong>–¶–µ–Ω–∞:</strong> ${item.country.price} ‚ÇΩ</p>
                        ${discount > 0 ? `<p><strong>–°–∫–∏–¥–∫–∞:</strong> ${discount} ‚ÇΩ (–ø—Ä–æ–º–æ–∫–æ–¥: ${activePromocode.code})</p>` : ''}
                        <p><strong>–ò—Ç–æ–≥–æ:</strong> ${finalPrice} ‚ÇΩ (${amountCrypto} ${item.currency.toUpperCase()})</p>
                        <p><strong>–ö—É—Ä—Å:</strong> 1 TON = ${TON_RATE} ‚ÇΩ</p>
                    </div>
                    <div style="text-align: center;">
                        <button class="btn" onclick="simulatePayment()">–û–ø–ª–∞—Ç–∏—Ç—å ${amountCrypto} ${item.currency.toUpperCase()}</button>
                        <p style="margin-top: 15px; color: #666; font-size: 0.9rem;">
                            –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –≤ @CryptoBot –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø–ª–∞—Ç—É"
                        </p>
                    </div>
                `;
            } else if (item.paymentMethod === 'lolz') {
                content.innerHTML = `
                    <h2 style="margin-bottom: 20px;">üõí –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Lolz Merchant</h2>
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <p><strong>–°—Ç—Ä–∞–Ω–∞:</strong> ${item.country.emoji} ${item.country.name}</p>
                        <p><strong>–¶–µ–Ω–∞:</strong> ${item.country.price} ‚ÇΩ</p>
                        ${discount > 0 ? `<p><strong>–°–∫–∏–¥–∫–∞:</strong> ${discount} ‚ÇΩ (–ø—Ä–æ–º–æ–∫–æ–¥: ${activePromocode.code})</p>` : ''}
                        <p><strong>–ò—Ç–æ–≥–æ:</strong> ${finalPrice} ‚ÇΩ</p>
                    </div>
                    <div style="text-align: center;">
                        <button class="btn" onclick="simulatePayment()">–û–ø–ª–∞—Ç–∏—Ç—å ${finalPrice} ‚ÇΩ</button>
                        <p style="margin-top: 15px; color: #666; font-size: 0.9rem;">
                            –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –Ω–∞ lzt.market –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø–ª–∞—Ç—É"
                        </p>
                    </div>
                `;
            }
            
            modal.style.display = 'flex';
        }

        // –°–∏–º—É–ª—è—Ü–∏—è –æ–ø–ª–∞—Ç—ã (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –±—É–¥–µ—Ç API)
        function simulatePayment() {
            showLoader('–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞...');
            
            setTimeout(() => {
                hideLoader();
                closeModal('paymentModal');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                updateStats(true);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
                const successMessage = `–ü–ª–∞—Ç–µ–∂ –Ω–∞ —Å—É–º–º—É ${getCartTotal()} ‚ÇΩ —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω. 
                    <br><br>–û–∂–∏–¥–∞–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞. 
                    <br>–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è SMS-–∫–æ–¥–∞.`;
                
                document.getElementById('successMessage').innerHTML = successMessage;
                document.getElementById('successModal').style.display = 'flex';
                
                // –û—á–∏—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É
                cart = [];
                selectedCountry = null;
                selectedPaymentMethod = null;
                selectedCurrency = null;
                activePromocode = null;
                updateCart();
            }, 2000);
        }

        // –û–ø–ª–∞—Ç–∞ –±–∞–ª–∞–Ω—Å–æ–º
        function processBalancePayment() {
            const total = getCartTotal();
            
            if (userProfile.balance < total) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ', 'error');
                return;
            }
            
            userProfile.balance -= total;
            localStorage.setItem('userProfile', JSON.stringify(userProfile));
            
            simulatePayment();
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—â–µ–π —Å—É–º–º—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ
        function getCartTotal() {
            if (cart.length === 0) return 0;
            
            const item = cart[0];
            let price = item.country.price;
            
            if (activePromocode && activePromocode.type === 'discount') {
                const discount = (price * activePromocode.value) / 100;
                price -= discount;
            }
            
            return price;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStats(addPurchase = false) {
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–∑ –±—ç–∫–µ–Ω–¥–∞
            const totalUsers = localStorage.getItem('totalUsers') || 1000;
            const totalPurchases = localStorage.getItem('totalPurchases') || 500;
            const totalRevenue = localStorage.getItem('totalRevenue') || 75000;
            
            if (addPurchase) {
                const newPurchases = parseInt(totalPurchases) + 1;
                const newRevenue = parseInt(totalRevenue) + getCartTotal();
                
                localStorage.setItem('totalPurchases', newPurchases);
                localStorage.setItem('totalRevenue', newRevenue);
                
                document.getElementById('totalPurchases').textContent = newPurchases;
                document.getElementById('totalRevenue').textContent = newRevenue + ' ‚ÇΩ';
            } else {
                document.getElementById('totalUsers').textContent = totalUsers;
                document.getElementById('totalPurchases').textContent = totalPurchases;
                document.getElementById('totalRevenue').textContent = totalRevenue + ' ‚ÇΩ';
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function loadUserProfile() {
            const saved = localStorage.getItem('userProfile');
            if (saved) {
                userProfile = JSON.parse(saved);
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.innerHTML = message;
            notification.className = `notification ${type}`;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥—Ä—É–∑—á–∏–∫
        function showLoader(text = '–ó–∞–≥—Ä—É–∑–∫–∞...') {
            document.getElementById('loaderText').textContent = text;
            document.getElementById('loader').style.display = 'block';
        }

        // –°–∫—Ä—ã—Ç—å –∑–∞–≥—Ä—É–∑—á–∏–∫
        function hideLoader() {
            document.getElementById('loader').style.display = 'none';
        }

        // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞
        window.openPromoModal = function() {
            document.getElementById('promoCodeInput').value = '';
            document.getElementById('promoMessage').innerHTML = '';
            document.getElementById('promoModal').style.display = 'flex';
        };

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        };

        // –ü–æ–∫–∞–∑–∞—Ç—å –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (—Å–∫—Ä—ã—Ç–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é)
        window.showAdminPanel = function() {
            showNotification('–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –æ—Ç–∫–ª—é—á–µ–Ω–∞', 'warning');
        };
    </script>
</body>
</html>
